Software
Product
Description
================================================================================
日本語VAX  FMS  Version  2.4  ソフトウェア仕様書
                                                                SPD 26.C8.00


                            仕様書の包含する範囲

     この文書は, 日本語VAX FMS のソフトウェア機能仕様を述べたもの
     です。


1   日本語VAX FMS の概要

日本語VAX  FMS （Forms  Management  System）は，画面フォームを使用す
るアプリケーション・プログラムを開発する上での補助となるように設計され
ています。日本語VAX FMS は，VT100，VT200，VT300 互換の端末機を使用
するアプリケーション・プログラムのためのフォームを管理します。VT端末
エミュレーション・モードで稼働するVAXstation 上で日本語VAX  FMS を使
用するユーザは，80 カラムの場合，最高54 行あるいは132 カラムの場合，
最高63 行までの長さのフォームを，生成し，表示し，会話処理を行うことが
できます。日本語VAX FMS を使って生成したフォームは，プリンタで印刷す
ることができます。

日本語VAX FMS を使って定義したフォームにより，プログラマは，VT100，
VT200，VT300  互換の端末機がもつ下記の機能を利用できるようになりま
す。

 ・  反転表示，高輝度，点滅，下線の，個々の文字属性

 ・  横倍角，縦倍角，スクロールの行属性

 ・  80 または132 カラム行および反転表示といった画面ワイド属性

 ・  線を描くためのVT100”スペシャル・グラフィックス文字セット"をはじ
     めとする代替文字セット

日本語VAX FMS フォーム・データ構造は，実行時にフォーム・ドライバによ
り使われ，フォームを表示したり，端末機オペレータにより入力されたデータ
にアクセスして検査するのに用いられます。フォームは，会話型編集プログラ
ム(FMS/EDIT) で会話形式で生成や修正を行なうことができますし，あるいは
フォーム言語でソース形式で記述，定義してから，フォーム言語翻訳プログラ
ム(FMS/TRANSLATE) を用いてフォーム・データ構造に変換することができま
す。（80 カラム54 行および132 カラム63 行よりも長いフォームは，フォー
ム言語翻訳プログラムでのみ生成および修正することが可能です。）

フォームは通常，ディスク上のフォーム・ライブラリ・ファイル中に常駐し，
実行時にアプリケーション・プログラムにより必要に応じて検索されます。こ
の仕組みにより，フォーム・データ構造とアプリケーション・プログラム間に
は高度な独立性が生まれます。フォームは，アプリケーション・プログラムを
再翻訳あるいは再リンクせずに，修正することができます。また，オブジェク
ト・モジュールに変換し，アプリケーション・プログラムにリンクして，メモ
リ・レジデント・フォームを生成することも可能ですし，アプリケーション・
プログラムによりメモリに動的にロードすることも可能です。

日本語VAX FMS アプリケーションは，FMS フォーム・ドライバを使ってフォー
ムと関連するデータ・フィールドの表示，データのフィールドへの入出力を制
御します。端末機からのデータ入力および端末機へのデータ表示はすべて，
ASCII文字列として渡されます。

日本語VAX FMS フォーム内の各フィールドについてのデータは，フォーム・
ドライバにより検査されます。”フィールド検査ピクチャ”を作るのにフィー
ルド検査文字が使用されます。プログラムの実行中，フィールドへの文字の
入出力は，ピクチャと比較され，それらの文字が有効かどうかを判定します。
ほとんどの場合，フィールド・ピクチャは，数個の異なるフィールド検査文字
を含むことができ，また数個の異なるフィールド・マーカ文字を含むこともで

きます。表示されるフォームの読みやすさを高めるのに使われるフィールド・
マーカ文字は，アプリケーション・プログラムからは見えないようになってい
ます。

個々のフィールドには，下記の属性を割り当てることができます。


 ・  フィールド名

 ・  デフォルト値

 ・  ヘルプ・テキスト

 ・  自動タブ

 ・  文字クリア

 ・  表示のみ

 ・  固定10 進数

 ・  インデックス

 ・  左揃え

 ・  右揃え

 ・  全桁入力

 ・  エコーなし

 ・  入力必須

 ・  スーパーバイザ・オンリー

 ・  大文字

 ・  ユーザ定義ルーチンおよび付随するデータ・パラメータ

 ・  ゼロ挿入

 ・  ゼロ抑制


各々のフィールドに割り当てられる属性は，フォームが生成される際にその有
効性についてチェックされます。属性の組合せによっては，正当でないものも
あります。各フォームには，フォーム全体に適用される属性があります。これ
らの属性には，次のものがあります。


 ・  フォーム名

 ・  付随するヘルプ・フォーム名

 ・  画面バックグラウンド（通常画面，反転画面，または指定なし）

 ・  画面横幅（80 桁，132 桁，または指定なし）

 ・  フォームを表示する時にクリアする画面領域

 ・  文字セット

 ・  ユーザ定義ルーチンおよび付随するデータ・パラメータ

 ・  処理中のフィールドを実行時に強調表示したい場合に使用するビデオ属性

 ・  フィールドにアクセスする順序

 ・  ネームド・データ

2   日本語VAX FMS ユーティリティ

2.1   会話型フォーム・エディタ

JFMS/EDITコマンドは，フォームの開発者が画面フォームを生成したり修正
したりするのに使われる，会話型編集プログラムを呼び出します。この会話型
編集プログラムによるフォームの生成は，段階的に行なわれます。レイアウト
段階では，フォームの視覚的外見，バックグラウンド・テキスト，フィールド
に有効な入力となるのはどのような種類の文字かを指定するのに使われます。
フォームを画面にレイアウトする間，48 のファンクション・キーとキーの組
合せを利用できます。これらのキーは，カーソル移動，削除とアンデリート，
カットとペースト，ボックス描画，ビデオ属性割り当て，中央揃え，HELP 表
示といった機能を行います。また，次の段階では，フォームおよびフィールド
属性の割り当て，ネームド・データの入力，フィールドにアクセスする順序
の割り当てを行います。ネームド・データやすべてのフォーム，フィールド属
性，およびユーザ定義ルーチンなどは，質問に答えることにより指定されま
す。フィールド属性やフィールド順序を割り当てる段階では，どのフィールド
が参照されているのかを表示するのに高輝度表示が使われます。最後に，試験
段階では，開発者は編集中に，エンド・ユーザがフォームと会話するのと全く
同じように，フォームと会話することができます。


2.2   フォーム言語翻訳プログラム

フォーム言語翻訳プログラムは，フォームを定義するもう一つの手段を提供し
ます。フォーム言語は自由形式でキーワード指向の宣言型言語で，テキスト・
エディタまたはプログラムによるソース形式の記述を生成したり修正する手段
を与えます。

JFMS/TRANSLATEコマンドは，（テキスト・ファイルに含まれる）ソース形
式の記述をフォーム・データ構造に変換するのに使われます。生成されたデー
タ構造は，日本語FMS 会話型エディタにより生成されたものと同等です。修正
あるいは文書化のために，既存のフォーム・データ構造をJFMS/DESCRIPTION
/FULLコマンドを使ってフォーム言語ソース・コードに戻すことも可能です。


2.3   その他のフォーム・アプリケーション開発補助

日本語VAX FMS マネジメント・システムには他にも追加機能があり，アプリ
ケーション・プログラムの開発プロセスを補助します。これらの機能は，次の
コマンドで呼び出されます。

 ・  JFMS/LIBRARY

     フォーム・ライブラリの生成・保持を行ないます。

 ・  JFMS/DESCRIPTION

     下記の基本タイプのフォーム記述を抽出します。

 ・  /BRIEF

     フォーム，そのフィールド，ネームド・データ，ユーザ定義ルーチンにつ
     いての情報の要約

 ・  /FULL

     フォーム言語翻訳プログラムへの入力に使えるフォーム言語文からなるテ
     キスト・ファイル

 ・  /DECLARATIONS

     画面上のフィールドの名前，長さ，順序を反映したCOBOL のデータ部
     や，DATATRIEVE のドメイン定義を生成するために使えるデータ部コー
     ド

 ・  /DISPLAY_IMAGE

     端末機イメージ形式（エスケープ・シーケンスあり），ライン・プリンタ

     形式（エスケープ・シーケンスなし），LN03/LN03-PLUS 形式のいずれ
     かで印字可能なフォーム・イメージ。VT100/200 ビデオ属性をそのまま
     LN03 およびLN03-PLUS レーザ・プリンタに印字させるには，別売りの
     VT100/200スクリーン・フォント・カートリッジ・セットが必要となる
     ので，ご注意ください。フォームの印字についての詳細は，後述の項を参
     照してください。

 ・  JFMS/DIRECTORY

     ライブラリまたはフォーム・ファイル内のフォーム・ディレクトリ一覧を
     抽出します。

 ・  JFMS/OBJECT

     アプリケーション・プログラムとリンクした時に，仮想メモリ上でフォー
     ムにアクセスできるようにする1 つまたは複数の組織データ構造からな
     る目的モジュールを生成します。

 ・  JFMS/VECTOR

     アプリケーション・プログラムとリンクされる，ユーザ定義ルーチン群を
     指すアドレスの表からなる目的モジュールを生成します。

 ・  JFMS/TEST

     アプリケーションの開発者が，アプリケーション・プログラムが動作した
     場合と同じフォームの表示，フィールドへのデータ入力，ヘルプの表示な
     どができるように，フォーム・テスト機能を呼び出します。

 ・  JFMS/UPGRADE

     日本語VAX FMS バージョン1.1 フォーム・ファイルおよびフォーム・ラ
     イブラリを現在の日本語VAX  FMSバージョンと互換性のあるフォーム
     に変換します。日本語VAX FMS バージョン1.1 フォームは，日本語VAX
     FMSの現在のバージョンとは互換性がないので，これを使用する際には
     アップグレードする必要があります。


2.4   日本語VAX  FMS フォーム・ドライバ

フォーム・ドライバは，日本語VAX  FMS の実行時コンポーネントで，端末
機，ユーザ，アプリケーション・プログラムの相互作用を制御するためにアプ
リケーション・プログラムにより呼ばれる，AST再入可能共有可能サブルーチ
ンで構成されています。フォーム・ドライバには，複数の作業領域（各々に単
一フォーム・データ構造がある）を管理する機能があります。複数のフォーム
を，一つの端末機画面に表示させることができます。

フォーム・ドライバ・サブルーチンは，端末機の入出力，フォームの表示，画
面の操作，基本的な入力の検査およびフォーマット化，ユーザ定義ルーチンの
呼び出し，端末機オペレータのヘルプ要請への応答などを行います。入出力
は，一時に1 つのフィールドか，フォーム全体で行うことができます。

フォーム・ドライバには，アプリケーションと人間のインターフェイスをなめ
らかにするための幾つかの機能があります。タイムアウト機能により，アプ
リケーション・プログラムは，オペレータが規定の時間に次の文字を入力しな
かったら，実行を継続することができます。フィールド・ビデオ属性，カーソ
ル位置，挿入／重ね書きモードは，アプリケーション・プログラム内のフォー
ム・ドライバ・コールにより動的に変えることができます。フォーム・ドライ
バにより制御されるフィールド高輝度表示は，各フィールドのビデオ属性を，
カーソルがフィールドに入るに従って変化させ，オペレータがフィールドから
出る時に元の状態に戻します。

フォーム・ドライバ(FDV) は，日本語VAX FMS を使用するアプリケーション
が実行時サポートのみを必要とするシステムについて，単独に購入することが
できます。

2.5   ネームド・データ

フォーム・ドライバは，ネームド・データにより，パラメータ駆動アプリケー
ションの生成をサポートします。ネームド・データは，フォーム・データ構造
の一部として格納したり，実行時にアプリケーション・プログラム内の呼び
出しにより検索することのできる，フォーム定数です。ネームド・データに
より，アプリケーション・プログラムの必要とする情報（例えば，フォーム・
リンケージ，オペレータ・メッセージ，その他の人間言語情報，ユーザ・サブ
ルーチン用データ検査基準など）を，アプリケーション・プログラムからは独
立して定義，格納，修正できます。

2.6   ユーザ定義ルーチン

ユーザ定義ルーチン(UAR) は，DIGITAL のサポートするVAX/VMS プログラ
ミング言語でユーザが作成するプロシージャです。UAR は，フォーム・データ
構造の作成中にフォームとフィールドに対応づけられ，下記の条件下でフォー
ム・ドライバにより自動的に呼び出されます。

 ・  あるフィールドについての処理が終了した時

 ・  端末機オペレータのヘルプ要請の処理の前後

 ・  端末機オペレータがファンクション・キーを押した時

 ・  画面リフレッシュ処理が要請された時

フォーム・ドライバは，プログラム制御を，定義されている状況下でのユーザ
定義ルーチンに渡します。ユーザ定義ルーチンでは，（フォームの一部として
定義された）80 文字からなるパラメータ文字列が（フォーム・ドライバの呼
び出しにより）利用でき，これを使って処理情報および現在のフォーム・ドラ
イバの文脈を与えることができます。

2.7   日本語VAX  FMS サンプル・アプリケーション・プログラム

サンプル・アプリケーション・プログラムは，サポートされている日本語VAX
FMS デモンストレーション・プログラムです。サンプル・アプリケーショ
ン・プログラムは，提供キットに含まれており，日本語VAX FMS が適切にイ
ンストレーションされたか確認するために使われます。日本語VAX FMS のマ
ニュアルには，サンプル・アプリケーション・プログラムの例が載っていま
す。（文書化されているプログラミング言語の各々毎に）サンプル・プログラ
ムおよびフォーム記述がマニュアルおよび提供キットに含まれています。サン
プル・アプリケーション・プログラムは，ユーザが随意に必要なシステムにイ
ンストールすることができます。

2.8   印刷フォーム

フォーム・イメージは，アプリケーション・プログラムがFDV$PRINT_SCREEN
を使ってフォーム・ドライバを呼び出す，もしくはオペレータがFMS DCL コ
マンド，JFMS/DESCRIPTION/DISPLAY_IMAGEを使うことで，ファイルに生
成，書き込みができ，それを印刷に用いることができます。下記の画面イメー
ジを生成することが可能です。

 ・  ライン・プリンタ・イメージ

     ビデオ属性は無視されるか，または標準ライン・プリンタにより印字
     可能なフォーマットに変換されます。線作画グラフィック文字は，標準
     ASCII文字に変換され，代替文字セット内のその他の文字はすべて，無
     変換のままとなります。

 ・  端末機イメージ

     すべてのエスケープ・シーケンスおよび制御文字は，現在の端末機と同種
     類の端末機に表示された場合に，画面のそのままのイメージが表示される
     ようにするためにそのまま含まれます。このイメージは，現在の端末機と
     同じ制御シーケンスを理解するプリンタにのみ，正しく出力できます。

 ・  LN03 およびLN03 PLUS レーザ・プリンタ・
     イメージ

     画面イメージは，LN03 およびLN03 PLUS レーザ・プリンタで印刷可能
     なので，エスケープ・シーケンスはそのまま含まれます。これらのプリ
     ンタの常駐フォントは， ASCII，DEC サプルメンタル，DEC  VT100 線
     作画文字セットの半角文字のみを含んでいるフォームの印字をサポート
     します。VT100 およびVT200 コンパチブル端末の文字，線，画面属性
     （点滅を除く）をすべて含んでいる日本語VAX  FMS フォームを印刷する
     には，別売のVT100/200 スクリーン・フォント・カートリッジ・セット
     を，LN03 あるいはLN03 PLUS レーザ・プリンタに組み込む必要があり
     ます。このフォント・カートリッジ・セットは，下記を指定することで注
     文できます。

     LN03X-DA
     （VT100/200スクリーン・フォント・カートリッジ・セット）

     このセットは2 つのフォント・カートリッジからなり，VT100，VT200，
     VT300 コンパチブル端末機で利用可能な，文字，線，画面属性のほとん
     どを再生するのに必要なフォントのすべてが含まれています。これらの
     フォントは，標準クーリエ・フォントの拡張で，下記のものが含まれま
     す。

        - ASCII 文字セット

        - DEC サプルメンタル文字セット

        - DEC  VT100 線作画文字セット

        - DEC オーバープリント・網かけ文字セット（反転ビデオ効果）

     フォント・サイズには下記のものがあります。

        - 縦倍角，横倍角（倍角）

        - 縦シングル，横倍角（横倍角）

        - 縦シングル，横シングル（シングル）（オーバープリントのみ）
     また，下記の形式が可能です。

        - ポートレート（80 カラム）

        - ランドスケープ（132 カラム）

     *   LN03 およびLN03  PLUS常駐フォントは，他の3 つの文字セットに
     ついて縦シングル，横シングルの大きさを提供します。


高輝度および下線も，LN03 およびLN03  PLUS によりサポートされています
が，点滅はサポートされていません。


2.9   リリース・ノート

日本語VAX FMS リリース・ノートが，マシン・リーダブルな形で提供メディ
アに入っています。VMSINSTAL プロシージャを使って，リリース・ノート
を，端末機で表示したり，日本語VAX  FMS をインストールする前に印刷させ
たりすることができ，インストレーション後はオンラインで利用することがで
きます。


3   必要なハードウェア

「システム・サポート付加情報(SSA 26.C8.00-x)」を参照してください。

4   必要なソフトウェア

 ・  日本語VMS オペレーティング・システム

 ・  日本語VMS ワークステーション・ソフトウェア（VAXstation  VWS端末
     エミュレーションのみ）

本製品に必須のソフトウェア製品と, その適用バージョンについては,「シス
テム・サポート付加情報(SSA  26.C8.00-x)」を参照してください。


5   注文情報

最寄りの日本DEC の各支店/ 営業所にお問い合わせください。


6   ソフトウェア・ライセンス

本ソフトウェアは日本DEC 標準契約条項中のライセンス規定に基づいて提供さ
れます。

日本DEC のライセンス条件とその方針についての詳細は, 最寄りの日本DEC
の各支店/ 営業所にお問い合わせください。


7   ライセンス管理機能

本ソフトウェアはVMS ライセンス管理機能(LMF) をサポートしています。ラ
イセンス単位は,CPUの性能に応じて割り当てられます。

ライセンス管理機能についての詳細は,「VMS  Operating  System  Software
Product  Description(SPD  25.01.xx)」またはVMS  Operating  System の
ドキュメント・セットの中の「License  Management  Utility  Manual」を
参照してください。


8   ソフトウェア製品サービス

日本DEC では, 様々なサービス・オプションを提供しています。詳細について
は, 最寄りの日本DEC 各支店/ 営業所にお問い合わせください。


9   保証

本ソフトウェアについては, 日本DEC 所定のソフトウェア保証基準に定められ
た保証が提供されます。


1990 年3 月
AE-B382A-TE-JO
